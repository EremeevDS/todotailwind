(this.webpackJsonptodotailwind=this.webpackJsonptodotailwind||[]).push([[0],{42:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(33),a=n.n(i),o=n(37),r=(n(42),n(21)),l=n(5),d=n(8),m=n.n(d),u=n(3),j=n(22),x=n(4),b=n(0);var h=function(e){var t=e.colors,n=e.onAdd,c=s.a.useState(!1),i=Object(l.a)(c,2),a=i[0],o=i[1],r=s.a.useState(),d=Object(l.a)(r,2),u=d[0],h=d[1],f=s.a.useState(""),v=Object(l.a)(f,2),O=v[0],w=v[1],g=s.a.useState(!1),k=Object(l.a)(g,2),N=k[0],E=k[1];return s.a.useEffect((function(){Array.isArray(t)&&h(t[0].id)}),[t]),Object(b.jsxs)("div",{children:[Object(b.jsx)(y,{icon:x.e,items:[{id:0,name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u043f\u043a\u0443"}],viziblePopup:function(){return o(!a)}}),a&&Object(b.jsxs)("div",{className:"bg-white px-2 py-5 -mt-5 rounded-md drop-shadow-2xl",children:[Object(b.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438",className:"px-2 py-2 w-full rounded-md border text-sm hover:border-gray-400",value:O,onChange:function(e){return w(e.target.value)}}),Object(b.jsx)("ul",{className:"flex justify-between my-2",children:t.map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(p,{color:e.name,onClick:function(){return h(e.id)},class:"".concat(u===e.id&&"badge--active"," w-6 h-6")})},e.id)}))}),Object(b.jsx)("button",{className:"w-full bg-green-300 py-2 rounded-md text-white text-sm hover:bg-green-400",onClick:function(){E(!0),m.a.post("https://my-json-server.typicode.com/EremeevDS/todotailwind/lists",{name:O,colorId:u,tasks:[]}).then((function(e){var c=e.data,s=t.filter((function(e){return e.id===u}))[0],i=Object(j.a)(Object(j.a)({},c),{},{color:s});n(i),o(!1),h(t[0].id),w("")})).finally((function(){return E(!1)}))},children:N?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})]})]})};var p=function(e){return Object(b.jsx)("i",{className:"badge badge--".concat(e.color," ").concat(e.class),onClick:e.onClick})},f=n(9),v=n(34),O=n.n(v);n(65);var y=function(e){var t=e.items,n=e.icon,c=e.delIcon,s=e.isRemovable,i=e.onRemove,a=e.viziblePopup,o=e.onSelectItem,r=e.activeItem,l=e.activeAll,d=e.showAll;return Object(b.jsx)("ul",{className:"list mb-6",onClick:a||l,children:t&&t.map((function(e){return Object(b.jsxs)("li",{onClick:function(){o&&o(e)},className:O()("flex items-center cursor-pointer px-5 py-2 mb-1 rounded-md hover:bg-white",{active:r&&r.id===e.id},{active:d}),children:[n?Object(b.jsx)(f.a,{icon:n,className:"inline-flex mr-2 opacity-40"}):Object(b.jsx)(p,{color:e.color.name,class:""}),Object(b.jsx)("span",{className:"flex-1 mr-3",children:e.name}),e.tasks&&Object(b.jsx)("span",{className:"bg-gray-100 py-0.5 px-2 rounded-full text-xs",children:e.tasks.length}),s&&Object(b.jsx)(f.a,{icon:c,className:"list__remove-icon inline-flex opacity-40 ml-3",onClick:function(){return i(e.id)}})]},e.id)}))})};var w=function(e){var t=e.onAddTask,n=e.list,c=s.a.useState(!1),i=Object(l.a)(c,2),a=i[0],o=i[1],r=s.a.useState(""),d=Object(l.a)(r,2),u=d[0],j=d[1],h=function(){o(!a)};return Object(b.jsx)("div",{className:"",children:a?Object(b.jsxs)("div",{className:"",children:[Object(b.jsx)("input",{value:u,onChange:function(e){return j(e.target.value)},type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",className:"h-12 px-2 py-2 w-full rounded-md border text-md mb-2 hover:border-gray-400"}),Object(b.jsx)("button",{className:"w-full bg-green-300 py-2 px-6 rounded-md text-white text-md mr-2 mb-2 hover:bg-green-400 sm:w-auto sm:mb-0",onClick:function(){var e={listId:n.id,text:u,completed:!1};m.a.post("https://my-json-server.typicode.com/EremeevDS/todotailwind/tasks",e).then((function(e){var c=e.data;t(n.id,c),h(),j("")}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(b.jsx)("button",{className:"w-full bg-gray-200 py-2 px-6 rounded-md text-white text-md hover:bg-gray-300 sm:w-auto",onClick:h,children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})]}):Object(b.jsxs)("div",{className:"ml-1 cursor-pointer py-1 opacity-30 hover:opacity-70",children:[Object(b.jsx)(f.a,{icon:x.e}),Object(b.jsx)("span",{className:"ml-3",onClick:h,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"})]})})};n(66);var g=function(e){var t=e.list,n=e.onTitleEdit,c=e.onAddTask,s=e.onRemove,i=e.onEdit,a=e.onDone;return Object(b.jsxs)("div",{className:"pt-10 px-5 sm:pt-15 sm:px-10 md:pt-20",children:[Object(b.jsxs)("h2",{className:"text-4xl mb-8 font-light pb-6 border-b-2 border-gray-100 md:mb-12 md:text-5xl",style:{color:t.color.hex},children:[t.name,Object(b.jsx)(f.a,{icon:x.d,onClick:function(){var e=window.prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",t.name);e&&m.a.patch("https://my-json-server.typicode.com/EremeevDS/todotailwind/lists/"+t.id,{name:e}).then((function(){n(t.id,e)}))},className:"fill-current text-gray-200 text-xl ml-4 hover:text-gray-400 cursor-pointer"})]}),t.tasks&&!t.tasks.length&&Object(b.jsx)("h2",{className:"text-2xl font-bold text-gray-300 whitespace-nowrap mb-12",children:"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442"}),t.tasks&&t.tasks.map((function(e){return Object(b.jsxs)("div",{className:"task flex items-center mb-6",children:[Object(b.jsxs)("div",{className:"checkbox",children:[Object(b.jsx)("input",{type:"checkbox",id:"task".concat(e.id),className:"hidden",defaultChecked:e.completed}),Object(b.jsx)("label",{onClick:function(){return a(e.listId,e.id)},htmlFor:"task".concat(e.id),className:"flex items-center justify-center w-6 h-6 border-2 rounded-full inline-block border-gray-300 cursor-pointer",children:Object(b.jsx)(f.a,{icon:x.b,className:"svg w-3 h-3 opacity-0"})})]}),Object(b.jsx)("p",{className:"flex-1 ml-2 md:text-xl",children:e.text}),Object(b.jsxs)("div",{className:"task__actions flex opacity-30 lg:opacity-0",children:[Object(b.jsx)("div",{onClick:function(){return i(t.id,e)},className:"py-1 px-2 rounded-sm cursor-pointer mr-1 hover:bg-gray-300",children:Object(b.jsx)(f.a,{icon:x.d})}),Object(b.jsx)("div",{onClick:function(){return s(t.id,e.id)},className:"py-1 px-2 rounded-sm cursor-pointer hover:bg-gray-300",children:Object(b.jsx)(f.a,{icon:x.g})})]})]},e.id)})),Object(b.jsx)(w,{onAddTask:c,list:t},t.id)]})};var k=function(){return Object(b.jsxs)("div",{className:"max-w-screen-md w-full h-72 rounded-lg bg-blue-400 mx-auto mt-16 pt-5 px-10 relative ",children:[Object(b.jsx)("h1",{className:"text-center text-2xl text-white",children:"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043e\u043a-\u0437\u0430\u0434\u0430\u0447"}),Object(b.jsxs)("div",{className:"flex text-white h-full",children:[Object(b.jsx)("div",{className:"flex flex-1 flex-col justify-center",children:Object(b.jsxs)("ul",{className:"list-disc",children:[Object(b.jsx)("h3",{className:"font-medium mb-1",children:"\u0412 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043e\u0442 29.10.2021:"}),Object(b.jsx)("li",{children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u043f\u043e\u043a \u0437\u0430\u0434\u0430\u0447"}),Object(b.jsx)("li",{children:"\u0412\u044b\u0431\u043e\u0440 \u0446\u0432\u0435\u0442\u0430 \u0434\u043b\u044f \u043f\u0430\u043f\u043a\u0438"}),Object(b.jsx)("li",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u043f\u0430\u043f\u043a\u0438"}),Object(b.jsx)("li",{children:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043f\u043a\u0438 \u0438 \u0435\u0435 \u0437\u0430\u0434\u0430\u0447"}),Object(b.jsx)("li",{children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u0441\u0435\u0445 \u043f\u0430\u043f\u043e\u043a \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e"})]})}),Object(b.jsx)("img",{className:"h-52 absolute -right-7 -bottom-7",src:"./img.png",alt:"todo"})]})]})};var N=function(e){var t=e.showAllLists,n=e.showAll,c=e.lists,i=e.selectedList,a=e.onRemoveList,o=e.selectItem,r=e.colors,l=e.onAddList,d=e.width,m=e.setWidth,u=function(){var e=function(){window.innerWidth<768&&m(!0),window.innerWidth>768&&m(!1)};return s.a.useEffect((function(){e()}),[]),s.a.useEffect((function(){return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}})),d}(),j=function(){m(!d)};return Object(b.jsxs)(s.a.Fragment,{children:[Object(b.jsxs)("nav",{hidden:!0===u&&"hidden",className:"overflow-y-scroll pt-10 bg-gray-50 border-r-2 border-gray-100 px-10 sm:pt-15 md:pt-20 md:px-5 lg:px-10",children:[Object(b.jsx)("div",{className:"w-full px-3 py-2 inline-flex rounded-md bg-gray-100 mb-6 hover:bg-white cursor-pointer",onClick:j,children:Object(b.jsx)(f.a,{icon:x.f,className:"text-2xl opacity-60 mx-auto"})}),Object(b.jsx)(y,{icon:x.c,items:[{id:0,name:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"}],activeAll:t,showAll:n}),c&&Object(b.jsx)(y,{items:c,activeItem:i,delIcon:x.g,isRemovable:!0,onRemove:a,onSelectItem:o}),Object(b.jsx)(h,{colors:r,onAdd:l})]}),Object(b.jsx)("nav",{hidden:!1===u&&"hidden",className:"pt-10 px-1 bg-gray-50 border-r-2 border-gray-100 sm:pt-15 md:pt-20 sm:px-3",children:Object(b.jsx)("div",{className:"px-3 py-2 inline-flex rounded-md hover:bg-white cursor-pointer",onClick:j,children:Object(b.jsx)(f.a,{icon:x.a,className:"text-2xl opacity-70 md:text-3xl"})})})]})};n(67);var E=function(){var e=s.a.useState(null),t=Object(l.a)(e,2),n=t[0],c=t[1],i=s.a.useState(null),a=Object(l.a)(i,2),o=a[0],d=a[1],j=s.a.useState(),x=Object(l.a)(j,2),h=x[0],p=x[1],f=s.a.useState(!1),v=Object(l.a)(f,2),O=v[0],y=v[1],w=s.a.useState(window.innerWidth),E=Object(l.a)(w,2),S=E[0],A=E[1],C=Object(u.d)(),D=Object(u.e)();s.a.useEffect((function(){m.a.get("https://my-json-server.typicode.com/EremeevDS/todotailwind/lists?_expand=color&_embed=tasks").then((function(e){var t=e.data;c(t)})),m.a.get("https://my-json-server.typicode.com/EremeevDS/todotailwind/colors").then((function(e){var t=e.data;d(t)}))}),[]),s.a.useEffect((function(){var e=D.pathname.split("lists/")[1];if(n){var t=n.find((function(t){return t.id===Number(e)}));p(t)}}),[n,D.pathname]);var I=function(e,t){var s=n.map((function(n){return n.id===e&&(n.name=t),n}));c(s)},L=function(){C.push("/lists"),p(null),y(!0),A(!0)},R=function(e,t){var s=n.map((function(n){return n.id===e&&(n.tasks=[].concat(Object(r.a)(n.tasks),[t])),n}));c(s)},T=function(e,t){m.a.delete("https://my-json-server.typicode.com/EremeevDS/todotailwind/tasks/"+t).then((function(){var s=n.map((function(n){return n.id===e&&(n.tasks=n.tasks.filter((function(e){return e.id!==t}))),n}));c(s)}))},_=function(e,t){var s=window.prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",t.text);m.a.patch("https://my-json-server.typicode.com/EremeevDS/todotailwind/tasks/"+t.id,{text:s}).then((function(i){i.data;var a=n.map((function(n){return n.id===e&&(n.tasks=n.tasks.map((function(e){return e.id===t.id&&(e.text=s),e}))),n}));c(a)}))},W=function(e,t){var s=n.find((function(t){return t.id===e})).tasks.find((function(e){return e.id===t})).completed;m.a.patch("https://my-json-server.typicode.com/EremeevDS/todotailwind/tasks/"+t,{completed:!s}).then((function(s){s.data;var i=n.map((function(n){return n.id===e&&(n.tasks=n.tasks.map((function(e){return e.id===t&&(e.completed=!e.completed),e}))),n}));c(i)}))};return Object(b.jsxs)("div",{className:"flex h-screen",children:[Object(b.jsx)(N,{showAllLists:L,showAll:O,lists:n,selectedList:h,onRemoveList:function(e){m.a.delete("https://my-json-server.typicode.com/EremeevDS/todotailwind/lists/"+e).then((function(){var t=n.filter((function(t){return t.id!==e}));c(t),L()}))},selectItem:function(e){C.push("/lists/".concat(e.id)),y(!1),A(!0)},colors:o,onAddList:function(e){var t=[].concat(Object(r.a)(n),[e]);c(t)},width:S,setWidth:A}),Object(b.jsxs)("main",{className:"flex-1 overflow-y-scroll",children:[n&&h&&Object(b.jsx)(g,{list:h,onTitleEdit:I,onAddTask:R,onRemove:T,onEdit:_,onDone:W}),O&&n.map((function(e){return Object(b.jsx)(g,{list:e,onTitleEdit:I,onAddTask:R,onRemove:T,onEdit:_,onDone:W},e.id)})),!h&&!O&&Object(b.jsx)(k,{})]})]})};a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(E,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.d536ecbe.chunk.js.map